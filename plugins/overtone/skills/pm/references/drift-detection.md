# Drift 偵測指南

## 五大 Drift 信號

### 1. 目標偏移（Goal Drift）

**定義**：當前討論方向與原始問題陳述脫節

**偵測邏輯**：
- 對比當前方案與最初的問題陳述
- 若方案解決的問題 ≠ 原始痛點，觸發警告

**嚴重度**：⚠️

**範例**：
- 原始問題：「CI 完成通知」→ 討論變成「完整的訊息平台」
- 原始問題：「修 bug」→ 討論變成「重構整個模組」

**應對**：
```
⚠️ DRIFT DETECTED: 目標偏移
原始目標: [原始問題陳述]
當前方向: [目前在討論什麼]
建議: 確認是否有意擴展範圍？若是，需重新定義成功指標。
```

### 2. 範圍膨脹（Scope Creep）

**定義**：MVP 範圍持續擴大，Must 清單不斷增長

**偵測邏輯**：
- Must 項目數量 > 初始定義的 150%
- 原本 Should/Could 的項目被提升為 Must
- 新需求持續加入但未移除任何項目

**嚴重度**：🔴

**應對**：
```
🔴 DRIFT DETECTED: 範圍膨脹
初始 Must 數量: [N]
當前 Must 數量: [M]（增加 [M-N] 項）
建議: 重新審視 MoSCoW，將新增項目歸類為 Should/Could，或明確擴展範圍並調整工作量估算。
```

### 3. 方案先行（Solution-First）

**定義**：跳過問題定義直接討論實作細節

**偵測邏輯**：
- 對話中出現技術選型但缺少問題陳述
- 使用者描述的是「怎麼做」而非「為什麼做」

**嚴重度**：⚠️

**應對**：
```
⚠️ DRIFT DETECTED: 方案先行
觀察: 正在討論 [技術細節]，但尚未確認 [問題/需求]
建議: 先確認這個方案要解決什麼問題，再討論實作方式。
```

### 4. 優先級反覆（Priority Flip-Flop）

**定義**：同一功能在 Must/Should 之間搖擺不定

**偵測邏輯**：
- 功能在 MoSCoW 類別間移動超過 1 次
- 相互矛盾的優先級判斷

**嚴重度**：⚠️

**應對**：
```
⚠️ DRIFT DETECTED: 優先級反覆
功能: [功能名稱]
歷史: Must → Should → Must
建議: 用 RICE 評分客觀判斷，確認後固定分類。
```

### 5. 缺少成功指標（No Success Metrics）

**定義**：無法回答「做到什麼程度算成功」

**偵測邏輯**：
- Discovery L5 無法得到具體回答
- 成功定義使用模糊詞彙（「更好」「更快」）

**嚴重度**：🔴

**應對**：
```
🔴 DRIFT DETECTED: 缺少成功指標
觀察: 目前的成功定義是 [模糊描述]
建議: 定義可衡量的指標，例如：[具體建議]
```

## 偵測時機

| 時機 | 檢查重點 |
|------|---------|
| Discovery 結束後 | 目標偏移、方案先行、缺少指標 |
| MoSCoW 定義時 | 範圍膨脹、優先級反覆 |
| 方案比較時 | 目標偏移（方案是否對齊問題） |
| 每次範圍變更 | 範圍膨脹 |

## 處理流程

1. **偵測**：在輸出中明確標記 drift 信號
2. **說明**：描述觀察到的現象
3. **建議**：提供具體的回歸建議
4. **確認**：等待使用者確認是否有意擴展或回歸原始範圍
5. **記錄**：在 Product Brief 的 Open Questions 中記錄未解決的 drift
